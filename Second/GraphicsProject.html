
<html>
  <head>
    </head>
      
      
      <body style="background-color:blue">
          <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r83/three.min.js"></script>
          <script src="https://cdnjs.cloudflare.com/ajax/libs/cannon.js/0.6.2/cannon.min.js"></script>
    <script> 
          var renderer,scene,camera;
        var mesh;
        var world,geometry,material;
        var body;
        var meshFaceMaterial;
        
        
        var meshes = [],bodies = [];
        var init = function(){
            
            var mat1 = new THREE.MeshPhongMaterial( { map: THREE.TextureLoader('MyPic.jpg') } );
            var mat2 = new THREE.MeshPhongMaterial({map:THREE.TextureLoader('moon.gif')});
            var materials = [mat1,mat2];
            var meshFaceMaterial = new THREE.MeshFaceMaterial( materials );
            
            renderer = new THREE.WebGLRenderer();
           renderer.setClearColor(new THREE.Color(0x000000, 1.0));
            renderer.setSize(window.innerWidth,window.innerHeight);
            document.body.appendChild(renderer.domElement);
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(40,window.innerWidth/window.innerHeight,1,1000 );
            camera.position.set(20,20,20);
            camera.lookAt(new THREE.Vector3());
            
            world = new CANNON.World();
            world.broadphase = new CANNON.NaiveBroadphase();
            world.gravity.set(0,-15,0);
             geometry= new THREE.SphereGeometry(1);
            
             material = new THREE.MeshPhongMaterial( { map: mat1 } );
            var light = new THREE.DirectionalLight( 0xffffff );
        light.position.set( 0, 1, 1 ).normalize();
            scene.add(light); 
            
            var planeShape = new CANNON.Plane();
            var planeBody = new CANNON.Body({mass:0});
            var planeMaterial = new CANNON.Material(mat2);
            planeBody.addShape(planeShape);
            planeBody.Material = planeMaterial;
            planeBody.quaternion.setFromAxisAngle( new CANNON.Vec3(1,0,0), - Math.PI/2);
            
            world.add(planeBody);
            // Create contact material behaviour
                
myLoop();                      //  start the loop
            };
        
        
        var i = 1;   
function myLoop (planeMaterial) {           //  create a loop function
   setTimeout(function () {    //  call a 3s setTimeout when the loop is called
        addBall(Math.random()*10
                    ,20,Math.random()*10);
             
       
      i++;                     //  increment the counter
      if (i < 1000) {            //  if the counter < 10, call the loop function
         myLoop();             //  ..  again which will trigger another 
      }                        //  ..  setTimeout()
   }, 500)
}
        
        var addBall = function(x,y,z){
        
            mesh = new THREE.Mesh(geometry,  meshFaceMaterial);
            scene.add(mesh);
            meshes.push(mesh);
            var sphereShape = new CANNON.Sphere(1);
            
            var sphereMaterial =  new CANNON.Material();
            var sphereBody = new CANNON.Body({
        mass: 10 
                });
sphereBody.addShape(sphereShape);
            
sphereBody.Material = sphereMaterial;
            
            
                    
            world.add(sphereBody);
            sphereBody.position.set(x,y,z);
            bodies.push(sphereBody);
        
        
        };
        var animate = function(){
            
            requestAnimationFrame(animate);
            world.step(1/60);
            
            for(var i =0, j =meshes.length;i< bodies.length;i++)
            {var mesh = meshes[i];
            var body = bodies[i];
             
            mesh.position.copy(body.position);
            mesh.quaternion.copy(body.quaternion);
            }
            
            
            
            renderer.render(scene,camera);
        
        
        };
        init();
        animate();
          
          
          </script>      
    
  </body>
</html>